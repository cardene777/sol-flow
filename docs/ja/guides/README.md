# Sol-Flow 機能ガイド

このガイドでは、Sol-Flowの全機能を段階的に学ぶことができます。はじめてお使いの方は「基本操作」から順に読み進めることをおすすめします。

## Sol-Flowとは

Sol-Flowは、Solidityスマートコントラクトの構造と関係性を視覚的に表示するツールです。コントラクト間の継承関係、ライブラリの使用、プロキシパターンなどを直感的に理解できます。

### こんな方におすすめ

| 対象 | 活用方法 |
|-----|---------|
| スマートコントラクト開発者 | 自分のプロジェクトのアーキテクチャを俯瞰して把握する |
| セキュリティ監査者 | 監査対象のコントラクト構造を素早く理解する |
| ブロックチェーン学習者 | 有名プロトコルの実装を視覚的に学ぶ |
| 技術ドキュメント作成者 | コントラクト構造の図を作成する |

## ガイド一覧

### 基本操作

Sol-Flowを使い始めるための基礎知識を説明します。

| # | ガイド | 内容 |
|---|-------|------|
| 1 | [はじめに](./01-getting-started.md) | Sol-Flowの概要、画面構成、最初の使い方 |
| 2 | [インポート](./02-import.md) | Solidityファイルの読み込み方法、対応フォーマット |
| 3 | [ナビゲーション](./03-navigation.md) | キャンバスの移動、ズーム、レイアウト切り替え |

### コントラクト可視化

ダイアグラム上に表示される要素の見方を説明します。

| # | ガイド | 内容 |
|---|-------|------|
| 4 | [コントラクトノード](./04-contract-nodes.md) | ノードの種類、表示内容、操作方法 |
| 5 | [リレーションシップ](./05-relationships.md) | エッジ（線）の種類と意味、依存関係の読み方 |
| 6 | [コントラクト詳細](./06-contract-details.md) | 詳細モーダルの使い方、ソースコード表示 |

### 高度な機能

より深く分析するための機能を説明します。

| # | ガイド | 内容 |
|---|-------|------|
| 7 | [関数フロー](./07-function-flow.md) | 関数内部の呼び出しフロー分析 |
| 8 | [検索](./08-search.md) | コントラクト、関数、イベントの検索 |
| 9 | [編集モード](./09-edit-mode.md) | カスタムエッジの追加と管理 |

### 特殊機能

プロキシパターン対応やプロジェクト管理機能を説明します。

| # | ガイド | 内容 |
|---|-------|------|
| 10 | [プロキシパターン](./10-proxy-patterns.md) | ERC-1967、ERC-7546、Diamond、Beaconの検出 |
| 11 | [プロジェクト管理](./11-project-management.md) | プロジェクトの保存、読み込み、管理 |
| 12 | [エクスポート](./12-export.md) | ダイアグラムを画像としてエクスポート |

## クイックリファレンス

### キーボードショートカット

よく使う操作のショートカットキーです。

| ショートカット | 機能 | 説明 |
|--------------|------|------|
| `Ctrl/Cmd + K` | 検索を開く | コントラクト、関数、イベントを検索 |
| `Ctrl/Cmd + E` | エクスポート | ダイアグラムをPNG画像としてエクスポート |
| `Escape` | モーダルを閉じる | 開いているダイアログやモーダルを閉じる |

### ノードの種類

キャンバス上に表示されるノード（四角形）は、Solidityのコントラクト種別に対応しています。

| 種類 | アイコン | 説明 | 例 |
|-----|---------|------|---|
| コントラクト | 📄 | デプロイ可能な標準コントラクト | `ERC20`, `Vault` |
| インターフェース | 📋 | 関数シグネチャのみを定義 | `IERC20`, `IUniswapV3Pool` |
| ライブラリ | 📚 | 再利用可能なユーティリティ関数群 | `SafeMath`, `Address` |
| 抽象コントラクト | 📝 | 一部の関数が未実装のコントラクト | `Ownable`, `ReentrancyGuard` |

### エッジの種類

ノード間をつなぐ線（エッジ）は、コントラクト間の関係性を表します。

| 色 | 関係性 | 説明 | 例 |
|---|-------|------|---|
| 青 | 継承（inherits） | `is`キーワードによる継承関係 | `MyToken is ERC20` |
| 紫 | 実装（implements） | インターフェースの実装 | `Vault is IVault` |
| 黄 | 使用（uses） | `using`によるライブラリ使用 | `using SafeMath for uint256` |
| ピンク | Delegatecall | プロキシから実装への委譲呼び出し | Proxy → Implementation |
| バイオレット | 登録（registers） | ERC-7546での実装登録 | Dictionary → Implementation |

### プロキシパターン

Sol-Flowが自動検出するプロキシパターンの一覧です。

| パターン | バッジ | 特徴 |
|---------|-------|------|
| ERC-1967 (UUPS/Transparent) | `UUPS` / `Transparent` | 最も広く使われる標準プロキシ |
| ERC-7546 | `ERC-7546` | 関数ごとに異なる実装を呼び出すモジュラープロキシ |
| ERC-2535 (Diamond) | `Diamond` | 複数のファセットから機能を集約 |
| Beacon | `Beacon` | 複数のプロキシが共通の実装を参照 |

## 学習の進め方

### 初めての方

1. まず[はじめに](./01-getting-started.md)を読んで、Sol-Flowの概要を把握してください
2. [インポート](./02-import.md)で、実際にコントラクトを読み込んでみましょう
3. [ナビゲーション](./03-navigation.md)で、ダイアグラムの操作方法を覚えましょう
4. 表示されたノードやエッジの意味を、[コントラクトノード](./04-contract-nodes.md)と[リレーションシップ](./05-relationships.md)で確認してください

### より深く理解したい方

1. [関数フロー](./07-function-flow.md)で、関数内部の処理を追跡してみましょう
2. [プロキシパターン](./10-proxy-patterns.md)で、アップグレード可能なコントラクトの構造を学びましょう
3. [編集モード](./09-edit-mode.md)で、カスタムの関係を追加してドキュメントを充実させましょう

## 組み込みライブラリ

Sol-Flowには、学習や参照用に以下のライブラリが組み込まれています。サイドバーの「Libraries」ボタンからアクセスできます。

| ライブラリ | 内容 |
|-----------|------|
| OpenZeppelin Contracts | ERC20、ERC721、アクセス制御、プロキシなどの標準実装 |
| ERC-7546 Reference | モジュラープロキシのリファレンス実装 |
| Avalanche ICM | Avalancheのクロスチェーンメッセージング |

## ヘルプとサポート

問題が発生した場合や、新機能のリクエストがある場合は、以下をご利用ください。

| リソース | URL | 用途 |
|---------|-----|------|
| GitHub Issues | [github.com/cardene777/sol-flow/issues](https://github.com/cardene777/sol-flow/issues) | バグ報告、機能リクエスト |
| デモサイト | [sol-flow.vercel.app](https://sol-flow.vercel.app) | 実際に試してみる |

