# プロジェクト管理

Sol-Flowでは、インポートしたコントラクトと分析結果を「プロジェクト」として保存できます。このガイドでは、プロジェクトの保存、読み込み、管理方法を説明します。

## プロジェクトとは

プロジェクトとは、特定のコントラクト群とその分析結果をまとめたものです。プロジェクトを保存することで、次回Sol-Flowを開いたときに、前回の作業状態から続けることができます。

### プロジェクトに保存される内容

| 保存される項目 | 説明 |
|--------------|------|
| コントラクト | インポートしたすべてのコントラクトとその解析結果 |
| ノードの位置 | ダイアグラム上で手動で配置したノードの位置 |
| ユーザーエッジ | 編集モードで追加したカスタムエッジ |
| 表示設定 | カテゴリフィルタやレイアウト設定 |

### プロジェクトに保存されない内容

| 保存されない項目 | 理由 |
|----------------|------|
| 元のソースファイル | 解析結果（AST）として保存されるため |
| 一時エッジ | 一時的なメモとして設計されているため |
| 選択状態 | UIの一時的な状態のため |

## プロジェクトの作成

コントラクトをインポートすると、自動的に新しいプロジェクトが作成されます。

1. ヘッダーの「Import」ボタンをクリックするか、ファイルをドラッグ＆ドロップします
2. インポートダイアログでプロジェクト名を入力します（任意）
3. インポートが完了すると、プロジェクトとして保存されます

### プロジェクト名の付け方

分かりやすいプロジェクト名を付けることで、後から見つけやすくなります。以下のような命名規則がおすすめです。

| 命名パターン | 例 |
|------------|---|
| プロトコル名 | `uniswap-v3`、`aave-v3` |
| 目的 + バージョン | `token-audit-v2`、`nft-review-draft` |
| 日付 + 説明 | `2024-01-security-audit` |

## プロジェクトの保存

### 自動保存

以下の変更は、操作と同時に自動的に保存されます。

| 自動保存される操作 | タイミング |
|------------------|----------|
| ノードの移動 | ドラッグ終了時 |
| ユーザーエッジの追加/削除 | 操作直後 |
| カテゴリフィルタの変更 | 変更直後 |

明示的な保存操作は必要ありません。

## プロジェクトの読み込み

保存されたプロジェクトを開くには、ヘッダーのプロジェクト名（またはライブラリ名）が表示されているボタンをクリックします。

![プロジェクト選択ボタン](../../guides/images/projects/library-button.png)

このボタンには、現在表示中のプロジェクト名やライブラリ名（例：「OpenZeppelin Contracts」）が表示されています。

### プロジェクト一覧の表示

![プロジェクト一覧](../../guides/images/projects/library-list.png)

プロジェクト一覧には、以下の情報が表示されます。

| 表示項目 | 説明 |
|---------|------|
| プロジェクト名 | 作成時に付けた名前 |
| 最終更新日 | 最後に変更を加えた日時 |
| コントラクト数 | プロジェクトに含まれるコントラクトの数 |

### プロジェクトを開く

プロジェクト一覧でプロジェクト名をクリックすると、そのプロジェクトが読み込まれ、保存された状態のダイアグラムが表示されます。

## プロジェクトの管理

### プロジェクト名の変更

1. 変更したいプロジェクトを開きます
2. プロジェクト設定から名前を編集します
3. 変更は自動的に保存されます

### プロジェクトの削除

1. プロジェクト一覧を開きます
2. 削除したいプロジェクトの削除ボタン（ゴミ箱アイコン）をクリックします
3. 確認ダイアログで「削除」を選択します

**注意**: 削除したプロジェクトは復元できません。重要なプロジェクトは、削除前に画像としてエクスポートしておくことをお勧めします。

## データの保存場所

Sol-Flowのプロジェクトデータは、ブラウザのローカルストレージに保存されます。

### ローカルストレージの特徴

| 特徴 | 説明 |
|-----|------|
| 永続性 | ブラウザを閉じてもデータは保持されます |
| ローカル保存 | データはお使いのデバイスにのみ保存され、クラウドには送信されません |
| ブラウザ固有 | Chromeで保存したプロジェクトはFirefoxでは表示されません |
| 容量制限 | ブラウザによって異なりますが、通常5〜10MB程度 |

### データのクリア

ブラウザの設定からSol-Flowのサイトデータをクリアすると、すべてのプロジェクトが削除されます。ブラウザの履歴やキャッシュをクリアする際はご注意ください。

## 制限事項

### ストレージ容量

非常に多くのコントラクトを含むプロジェクトや、多数のプロジェクトを保存すると、ブラウザのストレージ制限に達する可能性があります。

| 状況 | 推奨対応 |
|-----|---------|
| 大量のコントラクト | 関連するコントラクトごとに別プロジェクトに分割 |
| 多数のプロジェクト | 不要になったプロジェクトを定期的に削除 |

### デバイス間の共有

プロジェクトはローカルストレージに保存されるため、異なるデバイスやブラウザ間でプロジェクトを共有することはできません。共有が必要な場合は、ダイアグラムを画像としてエクスポートしてください。

## ベストプラクティス

### プロジェクトの整理

| 推奨事項 | 説明 |
|---------|------|
| プロトコルごとに分ける | 一つのプロトコルに関連するコントラクトは一つのプロジェクトにまとめる |
| 命名規則を統一 | 後から見つけやすいように、一貫した命名規則を使う |
| 定期的なクリーンアップ | 完了した作業や不要になったプロジェクトは削除する |

### バックアップ

重要なダイアグラムは、画像としてエクスポートして外部に保存しておくことをお勧めします。ブラウザのデータが失われた場合でも、画像があれば参照できます。

## 次のステップ

- [エクスポート](./12-export.md) - ダイアグラムを画像としてエクスポートする方法
- [編集モード](./09-edit-mode.md) - カスタムエッジを追加してプロジェクトを充実させる
